!function(a){function b(a){return b.left=a.offset().left,b.top=a.offset().top,b.ht=a.height(),b.wd=a.width(),b.midX=b.left+b.wd/2,b.midY=b.top+b.ht/2,b.x1=Math.floor(b.left),b.y1=Math.floor(b.top),b.x2=Math.ceil(b.left)+b.wd,b.y2=Math.floor(b.top),b.x3=Math.ceil(b.left)+b.wd,b.y3=Math.ceil(b.top)+b.ht,b.x4=Math.floor(b.left),b.y4=Math.ceil(b.top)+b.ht,b.triangles=c(b.x1,b.y1,b.x2,b.y2,b.x3,b.y3,b.x4,b.y4,b.midX,b.midY),[b.triangles,""+b.left+b.top+b.ht+b.wd,[b.midX,b.midY]]}function c(a,b,c,d,e,f,g,h,i,j){var k=[],l=[a,b],m=[c,d],n=[e,f],o=[g,h],p=[i,j];return k[0]=[],k[0].push(p),k[0].push(l),k[0].push(m),k[1]=[],k[1].push(p),k[1].push(m),k[1].push(n),k[2]=[],k[2].push(p),k[2].push(n),k[2].push(o),k[3]=[],k[3].push(p),k[3].push(o),k[3].push(l),k}function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=((d[1][1]-d[2][1])*(b[0]-d[2][0])+(d[2][0]-d[1][0])*(b[1]-d[2][1]))/((d[1][1]-d[2][1])*(d[0][0]-d[2][0])+(d[2][0]-d[1][0])*(d[0][1]-d[2][1])),f=((d[2][1]-d[0][1])*(b[0]-d[2][0])+(d[0][0]-d[2][0])*(b[1]-d[2][1]))/((d[1][1]-d[2][1])*(d[0][0]-d[2][0])+(d[2][0]-d[1][0])*(d[0][1]-d[2][1])),g=1-e-f;if(e>=0&&1>=e&&f>=0&&1>=f&&g>=0&&1>=g)break}return c==a.length&&(c=-1),c}function e(a,b){var c=Math.pow(b[0]-a.mid[0],2)+Math.pow(b[1]-a.mid[1],2),d=Math.pow(a.radius,2);return d>=c?!0:!1}function f(a,b){for(var c=0;c<a.length&&a[c]!==b;c++);return c>=a.length&&(c=-1),c}var g=[],h=[],i=[],j=[];a.fn.setupTriangles=function(c){var d=b(this),e=a.extend({midDiameter:0},c);e.midDiameter=Math.abs(e.midDiameter);var k=f(j,this.get(0));return 0>k&&(k=j.push(this.get(0))-1),g[k]=d[0],i[k]=e,h[k]={mid:d[2],radius:e.midDiameter/2},this},a.fn.whichTriangle=function(b){var c=f(j,this.get(0)),i=[b.clientX+a(window).scrollLeft(),b.clientY+a(window).scrollTop()],k=d(g[c],i);return h[c].radius&&e(h[c],i)&&(k=g[c].length),k},a.fn.updateTriangles=function(){var b=a(this),c=f(j,this.get(0));b.setupTriangles(i[c])}}(jQuery);