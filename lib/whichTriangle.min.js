!function(a){function b(a){return b.left=a.offset().left,b.top=a.offset().top,b.ht=a.height(),b.wd=a.width(),b.midX=b.left+b.wd/2,b.midY=b.top+b.ht/2,b.x1=b.left,b.y1=b.top,b.x2=b.left+b.wd,b.y2=b.top,b.x3=b.left+b.wd,b.y3=b.top+b.ht,b.x4=b.left,b.y4=b.top+b.ht,b.triangles=c(b.x1,b.y1,b.x2,b.y2,b.x3,b.y3,b.x4,b.y4,b.midX,b.midY),[b.triangles,""+b.left+b.top+b.ht+b.wd]}function c(a,b,c,d,e,f,g,h,i,j){var k=[],l=[a,b],m=[c,d],n=[e,f],o=[g,h],p=[i,j];return k[0]=[],k[0].push(p),k[0].push(l),k[0].push(m),k[1]=[],k[1].push(p),k[1].push(m),k[1].push(n),k[2]=[],k[2].push(p),k[2].push(n),k[2].push(o),k[3]=[],k[3].push(p),k[3].push(o),k[3].push(l),k}function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=((d[1][1]-d[2][1])*(b[0]-d[2][0])+(d[2][0]-d[1][0])*(b[1]-d[2][1]))/((d[1][1]-d[2][1])*(d[0][0]-d[2][0])+(d[2][0]-d[1][0])*(d[0][1]-d[2][1])),f=((d[2][1]-d[0][1])*(b[0]-d[2][0])+(d[0][0]-d[2][0])*(b[1]-d[2][1]))/((d[1][1]-d[2][1])*(d[0][0]-d[2][0])+(d[2][0]-d[1][0])*(d[0][1]-d[2][1])),g=1-e-f;if(e>=0&&1>=e&&f>=0&&1>=f&&g>=0&&1>=g)break}return c==a.length&&(c=-1),c}var e={};a.fn.setupTriangle=function(){var a=b(this);return e[a[1]]=a[0],this},a.fn.whichTriangle=function(b){var c=a(this),f=c.offset(),g=""+f.left+f.top+c.height()+c.width(),h=d(e[g],[b.clientX,b.clientY]);return h},a.fn.updateTriangle=function(){this.setupTriangle()}}(jQuery);